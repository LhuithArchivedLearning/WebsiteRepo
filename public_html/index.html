
<!DOCTYPE html>
<html>   
 <head>
 <meta charset ="utf-8">
 <meta name="viewport" content="width=device-width">
 <meta name="description" content="Eugene Martens Portfolio"> 
 <meta name="keywords" content="Eugene Martens, Portfolio, software development, web desighn, game development, programming">
 <meta name="author" content="Eugene Martens">
 <link rel="shortcut icon" type="image/png" href="img/Icons/favicon.ico">

	  <title>Gene Space | Oh Hey</title> 

	  <link rel="stylesheet" href="./css/materialize.css">	
      <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
	  <script type="text/javascript" src="js/materialize.min.js"></script>	  
 	  <link rel="stylesheet" href="./css/style.css">

 </head>
    <body>     
		<!--  
        <header>       
        <div class ="container">
        	<div id="branding">
        	<a class="heading" href="index.html"><h1><span class="highlight">Gene</span> Space</h1></a>
        	</div>
        <nav>
        	<ul>
        	<div>
        		<li class="current"><a class="divlink" href="index.html">Home</a></li>
        		<li><a  class="divlink" href="about.html">About</a></li>    
        		<li><a  class="divlink" href="projects.html">Projects</a></li>
        		<li><a  class="divlink" href="services.html">Services</a></li>
        		<li><a  class="divlink" href="blog.html">Blog</a></li>
        		
        	<div class = "IconLink">
        		<li>
    		    	<a class="sLinks" href="https://twitter.com/jhonnywhiplash">
    				<img class = "pixelated" src = "img/Icons/Logo's_twitter.png"> </img>
    				</a>
    			</li>
    			<li>
    		    	<a class="sLinks" href="https://www.linkedin.com/in/eugene-martens-7b9603a0/">
    				<img class = "pixelated" src = "img/Icons/Logo's_linkedin.png"> </img>
    				</a>
    			</li>
    			<li>
    				<a class="sLinks" href="https://github.com/Togene">
    				<img class = "pixelated" src = "img/Icons/Logo's_Github.png"> </img>
    				</a>
    			</li>
    			</div>
        	</div>
        </ul>
        </nav>             
        </div>
        </header>
		//-->

	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-104121571-1', 'auto');
		ga('send', 'pageview');

	</script>

<div id="webGL-container">
	
	<!-- Three JS -->
    <script type="text/javascript" src="js/three.js"></script>    
    <script type="text/javascript" src="js/Projector.js"></script>
    <script type="text/javascript" src="js/CanvasRenderer.js"></script>
    <script type="text/javascript" src="js/OrbitControls.js"></script> 
    <script type="text/javascript" src="js/WorldData.js"></script>
	<script type="text/javascript" src="js/ThreeAnimator.js"></script> 
	<script type="text/javascript" src="js/dat.gui.min.js"></script> 

	<!-- Math Helpers -->
	<script type="text/javascript" src="js/MathHelper/perlin.js"></script> 
	<script type="text/javascript" src="js/MathHelper/Vector2.js"></script> 
	<script type="text/javascript" src="js/MathHelper/utilities.js"></script> 

	<!-- World Generator -->
	<script type="text/javascript" src="js/WorldGenerator/FallOffGenerator.js"></script>  
	<script type="text/javascript" src="js/WorldGenerator/MapGenerator.js"></script> 
	<script type="text/javascript" src="js/WorldGenerator/Noise.js"></script> 
	<script type="text/javascript" src="js/WorldGenerator/Regions.js"></script> 
	
	<!-- Shader Files -->
	<script type="x-shader/x-vertex" id="vertexshader">
		varying vec2 vUv;

		varying vec3 lightdir;
 		varying vec3 eyenorm;
 		uniform vec3 lightpos;

		
		void main() 
		{	
			vUv = uv;
			
			vec4 eyepos = modelViewMatrix * vec4 (position, 1.0);
			vec4 lighteye = viewMatrix * vec4 (lightpos, 1.0);

			vec4 modelViewPosition = modelViewMatrix * vec4(position, 1.0);
			gl_Position = projectionMatrix * modelViewPosition;

			
			vec4 tmp = modelViewMatrix * vec4 (lightpos, 1.0);
			lightdir = lighteye.xyz - eyepos.xyz;
			eyenorm = normalMatrix * normal;
		}
	</script> 


	<!-- Credit to : https://sites.google.com/site/threejstuts/home/shader-toon  &
					 http://alex-charlton.com/posts/Dithering_on_the_GPU/#fn6 -->

	<script type="x-shader/x-fragment" id="fragmentshader">

			uniform vec3 palette[8];
			uniform int paletteSize;
			uniform int noTexture;
			const float lightnessSteps = 4.0;	

		    uniform float indexMatrix4x4[64];
			const int num = 64;		 
			varying vec3 lightdir;
 			varying vec3 eyenorm;
			uniform sampler2D texture;		 	
			varying vec2 vUv;

			float lightnessStep(float l) 
			{
				/* Quantize the lightness to one of `lightnessSteps` values */
				return floor((0.5 + l * lightnessSteps)) / lightnessSteps;
			}

			float indexValue() 
			{
				float x = (mod(gl_FragCoord.x, 8.0));
				float y = (mod(gl_FragCoord.y, 8.0));
				
				float grabby = 1.0;
				
				for(int i = 0; i < 64; i++)
				{
					if(i == int(x + y * 8.0))
					{
						grabby = indexMatrix4x4[i];
						break;
					}
				}

				return grabby/64.0;
			}

			float ditherMap(float color) 
			{
			float closestColor = (color < 0.5) ? 0.0 : 1.0;
			float secondClosestColor = 1.0 - closestColor;
			float d = indexValue();
			float distance = abs(closestColor - color);
			return (distance < d) ? closestColor : secondClosestColor;
			}

			vec3 hslToRgb(vec3 c )
			{
			vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );
			return c.z + c.y * (rgb-0.5)*(1.0-abs(2.0*c.z-1.0));
			}

			vec3 rgbToHsl(vec3 c )
			{
			float h = 0.0;
				float s = 0.0;
				float l = 0.0;
				float r = c.r;
				float g = c.g;
				float b = c.b;
				float cMin = min( r, min( g, b ) );
				float cMax = max( r, max( g, b ) );

				l = ( cMax + cMin ) / 2.0;
				if ( cMax > cMin ) {
					float cDelta = cMax - cMin;
					
					//s = l < .05 ? cDelta / ( cMax + cMin ) : cDelta / ( 2.0 - ( cMax + cMin ) ); Original
					s = l < .0 ? cDelta / ( cMax + cMin ) : cDelta / ( 2.0 - ( cMax + cMin ) );
					
					if ( r == cMax ) {
						h = ( g - b ) / cDelta;
					} else if ( g == cMax ) {
						h = 2.0 + ( b - r ) / cDelta;
					} else {
						h = 4.0 + ( r - g ) / cDelta;
					}

					if ( h < 0.0) {
						h += 6.0;
					}
					h = h / 6.0;
				}
				return vec3( h, s, l );
			}

			float hueDistance(float h1, float h2) 
			{
			float diff = abs((h1 - h2));
			return min(abs((1.0 - diff)), diff);
			}

			vec3 dither(vec3 color) 
			{
			vec3 hsl = rgbToHsl(color);

			vec3 ret[2];
			vec3 closest = vec3(-2, 0, 0);
			vec3 secondClosest = vec3(-2, 0, 0);
			vec3 temp;

			for (int i = 0; i < 8; ++i) 
			{
				temp = palette[i];
				float tempDistance = hueDistance(temp.x, hsl.x);

				if (tempDistance < hueDistance(closest.x, hsl.x)) 
				{
					secondClosest = closest;
					closest = temp;
				} 
				else 
				{
					if (tempDistance < hueDistance(secondClosest.x, hsl.x)) 
					{
						secondClosest = temp;
					}
				}
			}
			  	ret[0] = closest;
				ret[1] = secondClosest;
	
				float d = indexValue();
				float hueDiff = hueDistance(hsl.x, ret[0].x) / hueDistance(ret[1].x, ret[0].x);

				float l1 = lightnessStep(max((hsl.z - 0.125), 0.0));
				float l2 = lightnessStep(min((hsl.z + 0.124), 1.0));
				float lightnessDiff = (hsl.z - l1) / (l2 - l1);

				vec3 resultColor = (hueDiff < d) ? ret[0] : ret[1];
				resultColor.z = (lightnessDiff < d) ? l1 : l2;
				return hslToRgb(resultColor);
			}

		void main()
		{

			float ndotl = dot(normalize (eyenorm), normalize (lightdir));
			float ndotl2 = pow(dot(normalize (eyenorm), normalize (lightdir)), 1.0);

			ndotl = ndotl;

			vec3 lightColor = vec3(ndotl,ndotl,ndotl);

			vec4 light = vec4(dither(lightColor), 1.0);

			vec4 color;

			if(noTexture == 1)
			{
			color = vec4(0.5, 0.5, 0.5, 1.0);
			}
			else
			{
				color = texture2D(texture, vUv);
			}
			gl_FragColor = color * (light);
		}
	</script>  

	<!-- Main -->
	<script type="text/javascript" src="js/main.js"></script>  

	<!-- <a class="heading" href="index.html"><h1><span class="highlight">Gene</span> Space</h1></a> -->
	 <nav class = "Splash Nav">
        	<ul>
        	<div>
        		<li><a  class="splashLink" href="services.html">Services</a></li>
        		<li><a  class="splashLink" href="about.html">About</a></li>    
        		<li><a  class="splashLink" href="portfolio.html">Portfolio</a></li>
				</ul>
        </nav>             
        </div>
				
</div>
      
 <!--       <section id="boxes">   
    		<div class="container">
    			<div class="box">
    				<img src="./img/GameDev_Logo.png">
    				<h3>Game Development</h3>
    				 <p>All things Game related</p>
    			</div>
    			<div class="box">
    				<img src="./img/SoftWare_Logo.png">
    				<h3>Software Development</h3>
    				<p>All things Software related</p>
    			</div>
    			<div class="box">
    				<img src="./img/Art_Logo.png">
    				<h3>Art and Design</h3>
    				<p>All things Art related</p>
    			</div>
    		</div>
        </section>  
        
     //-->  
      
    </body>
</html>